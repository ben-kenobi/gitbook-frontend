# TS知识测验



### 选择题（多选）

1. 关于TS的说法正确的是：
   1. TS是JS语言的语法扩展，扩展了类型描述语法
   2. TS类型都是静态类型
   3. TS有一套运行时API可以在JS运行时判断JS数据类型
   4. TS类型系统与Java一样是一种名义化类型系统
2. 以下关于TSC在JS开发中的作用说法正确的是：
   1. TSC可以在开发过程为JS项目提供静态类型检查
   2. TSC可以帮助发现JS代码中绝大多数的逻辑错误
   3. TSC可以将ES6的JS代码转换成ES5格式
   4. TSC可以对JS代码进行自动补全
3. TS类型系统对JS代码中哪些方面做了约束和检查
   1. 变量的类型
   2. 函数返回值的类型
   3. 函数的参数类型和个数
   4. 对象的成员数量和类型
   5. 数组的元素类型
   6. 数组的长度
   7. 合法的值
   8. 数据的访问权限
4. 以下哪些属于TS扩展的基础类型
   1. unkown
   2. void
   3. undefined
   4. null
5. 关于TS基础类型说法正确的是
   1. unknown类型可以通过断言转换成任意类型
   2. any类型表示TS编译器不对其做任何检查
   3. 所有的函数类型都可以用Function表示
   4. 字面量类型可以转换成unknown类型
6. 一下哪些值属于经过布尔运算后是false
   1. undefined
   2. 空字符串
   3. unkown
   4. NaN
7. type alias 方式和 interface 声明方式区别说法正确的是
   1. interface方式可以继承，type alias方式不行
   2. interface方式不能给基础类型重命名，type alias方式可以
   3. interface方式声明的类型 不能用 union方式进行组合，type alias方式可以
   4. interface方式不能声明函数类型，type alias方式可以
8. 关于TS通过自动推导确定类型的说法正确的是
   1. 所有没有明确指定类型的变量都会自动推导为any类型。
   2. TS能够通过分析上下文的条件判断语句，判断出当前条件分支下的变量类型
   3. 可以设置编译参数`noImplicitAny`禁止自动推导变量类型为any。
9. 以下哪些关键字属于TS的访问修饰符
   1. private
   2. protected
   3. readonly
   4. get

### 思考题

1. 能否直接通过不停运行JS查看崩溃进行类型错误检查？
2. 试试 `new ReadonlyArray()` 然后看看tsc是否能编译过，看看报什么错，思考下为什么会报错。
3. TS类型不匹配的错误能否通过JS的 try catch 来捕获？
4. RN项目中的TS代码是在哪个阶段转换成JS代码的？（结合RN插件 开发-打包-被Native加载-运行 这个过程思考）。

### 课后实操

1. \(必须完成\) 创建单个ts文件，编写TS代码，然后使用tsc编译后输出js文件，对比编译前后文件内容差别。
2. \(必须完成）React项目中增加TS支持，并使用tsc编译整个项目\(不输出编译结果），看看报错。
3. \(必须完成）上述项目根目录创建`tsconfig.json`， 并继承TS社区提供的 `react-native` 的TS基础配置。
4. \(必须完成）使用VSCode查看上述项目中的TS类型报错，并逐一解决。
5. \(可选完成）跟着完成TS中文手册 [React项目中使用TS](https://typescript.bootcss.com/tutorials/react.html) 教程。（该教程比较全面的反映了TS在React项目中的使用情况。）

## 答案

### 选择题

1. AB。TS没有运行时API。 TS类型系统是结构化类型系统，有别于java名义化类型系统。
2. AC。TSC只能检查JS代码中少部分明显的逻辑问题。 TSC没有自动补全功能，这是部分代码编辑器基于TS的类型信息开发的辅助功能。
3. ABCDEGH。TS并没有约束数组长度（也不应该约束），定长数组类型是元组。
4. AB。其余两个是JS基础类型
5. ABCD。
6. ABD。unkown是TS类型，不是值，不能做布尔运算，且unkown类型的值布尔运算后也不一定是false，unkown类型的值可以是任意类型。
7. AB。interface方式声明的类型也能使用union方式进行组合。interface方式也能声明函数。
8. BC。TS仅在没有明确指定类型，且无有效的上下文可供推导时才会自动推导为any类型。
9. ABC。get 和 set 是 ES5引入的JS语法，用来为对象属性提供getter和setter。

### 思考题（参考答案）

1. 非常简单的JS项目确实可以通过该方式进行检查，无需用到TS。但是实际项目都比较复杂，有大量的场景和逻辑分支，运行JS代码不可能覆盖到所有这些场景和逻辑分支，即使仅大部分覆盖，也将耗费大量的测试精力。因此不可行。
2. 因为`ReadonlyArray` 是TS的类型，TS类型仅存在于编译过程，编译结束后将会把所有的TS类型从JS代码中擦除，new 针对JS对象的操作符，无法作用在TS类型上。
3. 不行，理由同上，`try catch` 是js的运行时特性，无法用于捕获仅存在于编译时的TS类型错误。
4. TS代码在RN插件打包过程被转换成JS代码。

