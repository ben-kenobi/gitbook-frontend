# TS类型系统的设计思想

虽然我们只学习了TS类型系统的基础知识，但是可以看出TS类型系统非常庞大，每个要点都学习一遍要花掉不少时间，幸运的是平时开发中只需要掌握基本的TS类型知识就能够熟练运用TS进行开发，并应付大部分代码场景。关于TS进阶的知识，完全可以等到当前TS知识无法满足开发使用后再花时间深入学习，不过有几个TS中的关键思想始终贯穿TS使用的整个生命周期，从入门到进阶，都需要时刻关注这几个思想，才能更加直观的理解在TS使用中遇到的各种语法特性。 

**一起来看下这几个TS类型系统的设计思想（非常关键，需要时刻牢记）**

### **1、只存在编译时**

> TS项目设计阶段，微软要求该项目可以运用于当前已经发布的众多JS项目，但是肯定不能对项目功能产生影响。于是TS在设计之初就定位为对JS运行时0影响。最终被设计成所有TS类型信息都只在编译阶段生效，编译之后将擦除所有TS类型信息。

> 这点与APP开发人员熟悉的java或OC类型系统\(标准类型系统）不一样，

> 因为标准类型系统存在于运行时，即可以通过运行时API访问这些类型。

### **2、结构化类型系统**

> TS类型系统是结构化类型系统，与之对应的是名义化类型系统（java，OC）。

> 结构化类型系统中一个对象的类型可以属于任何一个结构上与之一致的类型。

> 而名义化类型系统中一个对象的类型只能是该对象创建时候使用的类型。

### **3、类型是集合**

> TS中的类型到底是以一种什么形式存在的，最好的理解是把TS中的类型理解成一个集合，

> 一个对象的类型是一个集合A，而声明的类型也是声明一个集合B，只要B集合中的所有元素在A集合中都存在，则认为A类型与B类型匹配。

> 关于类型是集合的概念，大家可以先记着就好，开发中再逐步具体的去理解这个概念。

> \(在使用TS的类型操作API过程中，理解这个概念至关重要）

可能现在你对这些思想还没有感觉，那只需要记住它们就可以，随着TS使用的深入，加上对高阶技巧的运用，这几个思想将能帮助你更加容易的掌握那些抽象的高阶特性。



{% hint style="info" %}
**思考题：**TS类型不匹配的错误能否通过JS的 try catch 来捕获？（提示：通过TS的设计思想来思考这个场景）

答：

不行，TS类型仅存在于编译过程，编译结束后将会把所有的TS类型从JS代码中擦除，`try catch` 是js的运行时特性，无法用于捕获仅存在于编译时的TS类型错误。
{% endhint %}

